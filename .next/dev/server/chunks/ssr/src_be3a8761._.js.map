{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/shivam/TheMovie/src/components/Filters.tsx"],"sourcesContent":["\"use client\";\n\nimport { motion } from \"framer-motion\";\nimport { clsx } from \"clsx\";\nimport { useRouter, useSearchParams } from \"next/navigation\";\n\n// TMDB Genre IDs\nconst genres = [\n    { id: \"all\", label: \"All\", value: \"\" },\n    { id: \"action\", label: \"Action\", value: \"28\" },\n    { id: \"adventure\", label: \"Adventure\", value: \"12\" },\n    { id: \"comedy\", label: \"Comedy\", value: \"35\" },\n    { id: \"drama\", label: \"Drama\", value: \"18\" },\n    { id: \"scifi\", label: \"Sci-Fi\", value: \"878\" },\n    { id: \"horror\", label: \"Horror\", value: \"27\" },\n    { id: \"romance\", label: \"Romance\", value: \"10749\" },\n    { id: \"thriller\", label: \"Thriller\", value: \"53\" },\n    { id: \"animation\", label: \"Animation\", value: \"16\" },\n];\n\nexport function Filters() {\n    const router = useRouter();\n    const searchParams = useSearchParams();\n    const currentGenre = searchParams.get(\"genre\") || \"all\";\n\n    const handleFilterClick = (genreId: string, genreValue: string) => {\n        const params = new URLSearchParams(searchParams.toString());\n        if (genreValue) {\n            params.set(\"genre\", genreValue);\n        } else {\n            params.delete(\"genre\");\n        }\n        // Reset page to 1 on filter change\n        params.set(\"page\", \"1\");\n\n        router.push(`?${params.toString()}`);\n    };\n\n    // Helper to check active state\n    const isActive = (g: any) => {\n        if (g.id === \"all\" && !searchParams.get(\"genre\")) return true;\n        return searchParams.get(\"genre\") === g.value;\n    };\n\n    return (\n        <div className=\"sticky top-20 z-40 w-full overflow-hidden border-b border-white/5 bg-black/80 py-4 backdrop-blur-md\">\n            <div className=\"container px-6 mx-auto\">\n                <div className=\"flex items-center gap-3 overflow-x-auto hide-scrollbar pb-2\">\n                    {genres.map((filter) => (\n                        <button\n                            key={filter.id}\n                            onClick={() => handleFilterClick(filter.id, filter.value)}\n                            className={clsx(\n                                \"relative flex-shrink-0 rounded-full px-5 py-2 text-sm font-medium transition-all duration-300\",\n                                isActive(filter)\n                                    ? \"bg-white text-black\"\n                                    : \"bg-white/10 text-white hover:bg-white/20\"\n                            )}\n                        >\n                            {filter.label}\n                            {isActive(filter) && (\n                                <motion.div\n                                    layoutId=\"activeFilter\"\n                                    className=\"absolute inset-0 rounded-full bg-white mix-blend-difference\"\n                                    transition={{ type: \"spring\", bounce: 0.2, duration: 0.6 }}\n                                />\n                            )}\n                        </button>\n                    ))}\n                </div>\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMA,iBAAiB;AACjB,MAAM,SAAS;IACX;QAAE,IAAI;QAAO,OAAO;QAAO,OAAO;IAAG;IACrC;QAAE,IAAI;QAAU,OAAO;QAAU,OAAO;IAAK;IAC7C;QAAE,IAAI;QAAa,OAAO;QAAa,OAAO;IAAK;IACnD;QAAE,IAAI;QAAU,OAAO;QAAU,OAAO;IAAK;IAC7C;QAAE,IAAI;QAAS,OAAO;QAAS,OAAO;IAAK;IAC3C;QAAE,IAAI;QAAS,OAAO;QAAU,OAAO;IAAM;IAC7C;QAAE,IAAI;QAAU,OAAO;QAAU,OAAO;IAAK;IAC7C;QAAE,IAAI;QAAW,OAAO;QAAW,OAAO;IAAQ;IAClD;QAAE,IAAI;QAAY,OAAO;QAAY,OAAO;IAAK;IACjD;QAAE,IAAI;QAAa,OAAO;QAAa,OAAO;IAAK;CACtD;AAEM,SAAS;IACZ,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,eAAe,IAAA,qJAAe;IACpC,MAAM,eAAe,aAAa,GAAG,CAAC,YAAY;IAElD,MAAM,oBAAoB,CAAC,SAAiB;QACxC,MAAM,SAAS,IAAI,gBAAgB,aAAa,QAAQ;QACxD,IAAI,YAAY;YACZ,OAAO,GAAG,CAAC,SAAS;QACxB,OAAO;YACH,OAAO,MAAM,CAAC;QAClB;QACA,mCAAmC;QACnC,OAAO,GAAG,CAAC,QAAQ;QAEnB,OAAO,IAAI,CAAC,CAAC,CAAC,EAAE,OAAO,QAAQ,IAAI;IACvC;IAEA,+BAA+B;IAC/B,MAAM,WAAW,CAAC;QACd,IAAI,EAAE,EAAE,KAAK,SAAS,CAAC,aAAa,GAAG,CAAC,UAAU,OAAO;QACzD,OAAO,aAAa,GAAG,CAAC,aAAa,EAAE,KAAK;IAChD;IAEA,qBACI,8OAAC;QAAI,WAAU;kBACX,cAAA,8OAAC;YAAI,WAAU;sBACX,cAAA,8OAAC;gBAAI,WAAU;0BACV,OAAO,GAAG,CAAC,CAAC,uBACT,8OAAC;wBAEG,SAAS,IAAM,kBAAkB,OAAO,EAAE,EAAE,OAAO,KAAK;wBACxD,WAAW,IAAA,6IAAI,EACX,iGACA,SAAS,UACH,wBACA;;4BAGT,OAAO,KAAK;4BACZ,SAAS,yBACN,8OAAC,oMAAM,CAAC,GAAG;gCACP,UAAS;gCACT,WAAU;gCACV,YAAY;oCAAE,MAAM;oCAAU,QAAQ;oCAAK,UAAU;gCAAI;;;;;;;uBAd5D,OAAO,EAAE;;;;;;;;;;;;;;;;;;;;AAuB1C"}},
    {"offset": {"line": 140, "column": 0}, "map": {"version":3,"sources":["file:///home/shivam/TheMovie/src/components/AdvancedFilters.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { useRouter, useSearchParams } from \"next/navigation\";\nimport { X, ChevronDown, SlidersHorizontal } from \"lucide-react\";\nimport { clsx } from \"clsx\";\nimport { getMovieGenres } from \"@/api/tmdb\";\n\n// TMDB Genre IDs\nconst MOVIE_GENRES = [\n    { id: 28, label: \"Action\" },\n    { id: 12, label: \"Adventure\" },\n    { id: 16, label: \"Animation\" },\n    { id: 35, label: \"Comedy\" },\n    { id: 80, label: \"Crime\" },\n    { id: 99, label: \"Documentary\" },\n    { id: 18, label: \"Drama\" },\n    { id: 10751, label: \"Family\" },\n    { id: 14, label: \"Fantasy\" },\n    { id: 36, label: \"History\" },\n    { id: 27, label: \"Horror\" },\n    { id: 10402, label: \"Music\" },\n    { id: 9648, label: \"Mystery\" },\n    { id: 10749, label: \"Romance\" },\n    { id: 878, label: \"Sci-Fi\" },\n    { id: 10770, label: \"TV Movie\" },\n    { id: 53, label: \"Thriller\" },\n    { id: 10752, label: \"War\" },\n    { id: 37, label: \"Western\" },\n];\n\nconst SORT_OPTIONS = [\n    { value: \"popularity.desc\", label: \"Popularity ↓\" },\n    { value: \"popularity.asc\", label: \"Popularity ↑\" },\n    { value: \"vote_average.desc\", label: \"Rating ↓\" },\n    { value: \"vote_average.asc\", label: \"Rating ↑\" },\n    { value: \"primary_release_date.desc\", label: \"Release Date ↓\" },\n    { value: \"primary_release_date.asc\", label: \"Release Date ↑\" },\n    { value: \"revenue.desc\", label: \"Revenue ↓\" },\n    { value: \"revenue.asc\", label: \"Revenue ↑\" },\n];\n\nconst RUNTIME_OPTIONS = [\n    { value: \"\", label: \"Any Duration\" },\n    { value: \"0-90\", label: \"Under 90 mins\" },\n    { value: \"90-120\", label: \"90-120 mins\" },\n    { value: \"120-150\", label: \"2-2.5 hours\" },\n    { value: \"150-999\", label: \"Over 2.5 hours\" },\n];\n\nconst LANGUAGE_OPTIONS = [\n    { value: \"\", label: \"All Languages\" },\n    { value: \"en\", label: \"English\" },\n    { value: \"es\", label: \"Spanish\" },\n    { value: \"fr\", label: \"French\" },\n    { value: \"de\", label: \"German\" },\n    { value: \"it\", label: \"Italian\" },\n    { value: \"ja\", label: \"Japanese\" },\n    { value: \"ko\", label: \"Korean\" },\n    { value: \"zh\", label: \"Chinese\" },\n    { value: \"hi\", label: \"Hindi\" },\n];\n\nconst RATING_OPTIONS = [\n    { value: \"\", label: \"All Ratings\" },\n    { value: \"G\", label: \"G\" },\n    { value: \"PG\", label: \"PG\" },\n    { value: \"PG-13\", label: \"PG-13\" },\n    { value: \"R\", label: \"R\" },\n    { value: \"NC-17\", label: \"NC-17\" },\n];\n\ninterface AdvancedFiltersProps {\n    onApply?: (filters: any) => void;\n}\n\nexport function AdvancedFilters({ onApply }: AdvancedFiltersProps) {\n    const [isOpen, setIsOpen] = useState(false);\n    const router = useRouter();\n    const searchParams = useSearchParams();\n\n    // Filter States\n    const [selectedGenres, setSelectedGenres] = useState<number[]>([]);\n    const [sortBy, setSortBy] = useState(\"popularity.desc\");\n    const [yearRange, setYearRange] = useState({ min: 1900, max: new Date().getFullYear() });\n    const [runtime, setRuntime] = useState(\"\");\n    const [language, setLanguage] = useState(\"\");\n    const [rating, setRating] = useState(\"\");\n\n    // Initialize from URL params\n    useEffect(() => {\n        const genres = searchParams.get(\"with_genres\");\n        if (genres) {\n            setSelectedGenres(genres.split(\",\").map(Number));\n        }\n        setSortBy(searchParams.get(\"sort_by\") || \"popularity.desc\");\n        setYearRange({\n            min: parseInt(searchParams.get(\"year_min\") || \"1900\"),\n            max: parseInt(searchParams.get(\"year_max\") || String(new Date().getFullYear())),\n        });\n        setRuntime(searchParams.get(\"runtime\") || \"\");\n        setLanguage(searchParams.get(\"language\") || \"\");\n        setRating(searchParams.get(\"certification\") || \"\");\n    }, [searchParams]);\n\n    const toggleGenre = (genreId: number) => {\n        setSelectedGenres(prev =>\n            prev.includes(genreId)\n                ? prev.filter(id => id !== genreId)\n                : [...prev, genreId]\n        );\n    };\n\n    const applyFilters = () => {\n        const params = new URLSearchParams(searchParams.toString());\n        \n        // Genres\n        if (selectedGenres.length > 0) {\n            params.set(\"with_genres\", selectedGenres.join(\",\"));\n        } else {\n            params.delete(\"with_genres\");\n        }\n\n        // Sort\n        if (sortBy !== \"popularity.desc\") {\n            params.set(\"sort_by\", sortBy);\n        } else {\n            params.delete(\"sort_by\");\n        }\n\n        // Year Range\n        if (yearRange.min !== 1900) {\n            params.set(\"year_min\", yearRange.min.toString());\n        } else {\n            params.delete(\"year_min\");\n        }\n        if (yearRange.max !== new Date().getFullYear()) {\n            params.set(\"year_max\", yearRange.max.toString());\n        } else {\n            params.delete(\"year_max\");\n        }\n\n        // Runtime\n        if (runtime) {\n            params.set(\"runtime\", runtime);\n        } else {\n            params.delete(\"runtime\");\n        }\n\n        // Language\n        if (language) {\n            params.set(\"language\", language);\n        } else {\n            params.delete(\"language\");\n        }\n\n        // Rating\n        if (rating) {\n            params.set(\"certification\", rating);\n        } else {\n            params.delete(\"certification\");\n        }\n\n        params.set(\"page\", \"1\"); // Reset to page 1\n        router.push(`?${params.toString()}`);\n        setIsOpen(false);\n\n        if (onApply) {\n            const filters: any = { sort_by: sortBy };\n            if (selectedGenres.length > 0) filters.with_genres = selectedGenres.join(\",\");\n            if (yearRange.min !== 1900) filters[\"primary_release_date.gte\"] = `${yearRange.min}-01-01`;\n            if (yearRange.max !== new Date().getFullYear()) filters[\"primary_release_date.lte\"] = `${yearRange.max}-12-31`;\n            if (runtime) {\n                const [min, max] = runtime.split(\"-\").map(Number);\n                filters[\"with_runtime.gte\"] = min;\n                filters[\"with_runtime.lte\"] = max;\n            }\n            if (language) filters.with_original_language = language;\n            if (rating) filters.certification_country = \"US\";\n            if (rating) filters.certification = rating;\n            onApply(filters);\n        }\n    };\n\n    const clearFilters = () => {\n        setSelectedGenres([]);\n        setSortBy(\"popularity.desc\");\n        setYearRange({ min: 1900, max: new Date().getFullYear() });\n        setRuntime(\"\");\n        setLanguage(\"\");\n        setRating(\"\");\n        router.push(window.location.pathname);\n        setIsOpen(false);\n    };\n\n    const activeFiltersCount = \n        selectedGenres.length +\n        (sortBy !== \"popularity.desc\" ? 1 : 0) +\n        (yearRange.min !== 1900 ? 1 : 0) +\n        (yearRange.max !== new Date().getFullYear() ? 1 : 0) +\n        (runtime ? 1 : 0) +\n        (language ? 1 : 0) +\n        (rating ? 1 : 0);\n\n    return (\n        <div className=\"relative\">\n            {/* Toggle Button */}\n            <button\n                onClick={() => setIsOpen(!isOpen)}\n                className=\"flex items-center gap-2 px-5 py-2.5 bg-white/5 hover:bg-white/10 border border-white/10 rounded-full text-white text-sm font-medium transition-all\"\n            >\n                <SlidersHorizontal size={18} />\n                Advanced Filters\n                {activeFiltersCount > 0 && (\n                    <span className=\"bg-accent-primary text-white text-xs px-2 py-0.5 rounded-full\">\n                        {activeFiltersCount}\n                    </span>\n                )}\n            </button>\n\n            {/* Dropdown Panel */}\n            {isOpen && (\n                <>\n                    {/* Backdrop */}\n                    <div\n                        className=\"fixed inset-0 bg-black/50 z-40\"\n                        onClick={() => setIsOpen(false)}\n                    />\n\n                    {/* Filter Panel */}\n                    <div className=\"absolute top-full mt-2 right-0 w-[90vw] max-w-3xl bg-bg-card border border-white/10 rounded-2xl shadow-2xl z-50 overflow-hidden\">\n                        <div className=\"p-6 max-h-[70vh] overflow-y-auto\">\n                            {/* Header */}\n                            <div className=\"flex items-center justify-between mb-6\">\n                                <h3 className=\"text-xl font-bold text-white\">Advanced Filters</h3>\n                                <button\n                                    onClick={() => setIsOpen(false)}\n                                    className=\"p-2 hover:bg-white/5 rounded-lg transition-colors\"\n                                >\n                                    <X size={20} className=\"text-white\" />\n                                </button>\n                            </div>\n\n                            <div className=\"space-y-6\">\n                                {/* Multi-Genre Selection */}\n                                <div>\n                                    <label className=\"block text-sm font-medium text-white mb-3\">\n                                        Genres (Select Multiple)\n                                    </label>\n                                    <div className=\"flex flex-wrap gap-2\">\n                                        {MOVIE_GENRES.map(genre => (\n                                            <button\n                                                key={genre.id}\n                                                onClick={() => toggleGenre(genre.id)}\n                                                className={clsx(\n                                                    \"px-4 py-2 rounded-full text-sm font-medium transition-all\",\n                                                    selectedGenres.includes(genre.id)\n                                                        ? \"bg-accent-primary text-white\"\n                                                        : \"bg-white/5 text-white hover:bg-white/10\"\n                                                )}\n                                            >\n                                                {genre.label}\n                                            </button>\n                                        ))}\n                                    </div>\n                                </div>\n\n                                {/* Sort Options */}\n                                <div>\n                                    <label className=\"block text-sm font-medium text-white mb-3\">\n                                        Sort By\n                                    </label>\n                                    <select\n                                        value={sortBy}\n                                        onChange={(e) => setSortBy(e.target.value)}\n                                        className=\"w-full bg-black/50 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-accent-primary\"\n                                    >\n                                        {SORT_OPTIONS.map(opt => (\n                                            <option key={opt.value} value={opt.value} className=\"bg-black\">\n                                                {opt.label}\n                                            </option>\n                                        ))}\n                                    </select>\n                                </div>\n\n                                {/* Year Range */}\n                                <div>\n                                    <label className=\"block text-sm font-medium text-white mb-3\">\n                                        Year Range: {yearRange.min} - {yearRange.max}\n                                    </label>\n                                    <div className=\"flex gap-4\">\n                                        <div className=\"flex-1\">\n                                            <input\n                                                type=\"range\"\n                                                min=\"1900\"\n                                                max={new Date().getFullYear()}\n                                                value={yearRange.min}\n                                                onChange={(e) => setYearRange(prev => ({ ...prev, min: parseInt(e.target.value) }))}\n                                                className=\"w-full accent-accent-primary\"\n                                            />\n                                            <span className=\"text-xs text-text-muted\">Min: {yearRange.min}</span>\n                                        </div>\n                                        <div className=\"flex-1\">\n                                            <input\n                                                type=\"range\"\n                                                min=\"1900\"\n                                                max={new Date().getFullYear()}\n                                                value={yearRange.max}\n                                                onChange={(e) => setYearRange(prev => ({ ...prev, max: parseInt(e.target.value) }))}\n                                                className=\"w-full accent-accent-primary\"\n                                            />\n                                            <span className=\"text-xs text-text-muted\">Max: {yearRange.max}</span>\n                                        </div>\n                                    </div>\n                                </div>\n\n                                {/* Runtime Filter */}\n                                <div>\n                                    <label className=\"block text-sm font-medium text-white mb-3\">\n                                        Runtime\n                                    </label>\n                                    <select\n                                        value={runtime}\n                                        onChange={(e) => setRuntime(e.target.value)}\n                                        className=\"w-full bg-black/50 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-accent-primary\"\n                                    >\n                                        {RUNTIME_OPTIONS.map(opt => (\n                                            <option key={opt.value} value={opt.value} className=\"bg-black\">\n                                                {opt.label}\n                                            </option>\n                                        ))}\n                                    </select>\n                                </div>\n\n                                {/* Language Filter */}\n                                <div>\n                                    <label className=\"block text-sm font-medium text-white mb-3\">\n                                        Original Language\n                                    </label>\n                                    <select\n                                        value={language}\n                                        onChange={(e) => setLanguage(e.target.value)}\n                                        className=\"w-full bg-black/50 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-accent-primary\"\n                                    >\n                                        {LANGUAGE_OPTIONS.map(opt => (\n                                            <option key={opt.value} value={opt.value} className=\"bg-black\">\n                                                {opt.label}\n                                            </option>\n                                        ))}\n                                    </select>\n                                </div>\n\n                                {/* MPAA Rating Filter */}\n                                <div>\n                                    <label className=\"block text-sm font-medium text-white mb-3\">\n                                        MPAA Rating (US)\n                                    </label>\n                                    <select\n                                        value={rating}\n                                        onChange={(e) => setRating(e.target.value)}\n                                        className=\"w-full bg-black/50 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-accent-primary\"\n                                    >\n                                        {RATING_OPTIONS.map(opt => (\n                                            <option key={opt.value} value={opt.value} className=\"bg-black\">\n                                                {opt.label}\n                                            </option>\n                                        ))}\n                                    </select>\n                                </div>\n                            </div>\n                        </div>\n\n                        {/* Footer Actions */}\n                        <div className=\"flex gap-3 p-4 bg-black/30 border-t border-white/10\">\n                            <button\n                                onClick={clearFilters}\n                                className=\"flex-1 px-6 py-3 bg-white/5 hover:bg-white/10 text-white rounded-lg font-medium transition-all\"\n                            >\n                                Clear All\n                            </button>\n                            <button\n                                onClick={applyFilters}\n                                className=\"flex-1 px-6 py-3 bg-accent-primary hover:bg-accent-primary/90 text-white rounded-lg font-bold transition-all\"\n                            >\n                                Apply Filters\n                            </button>\n                        </div>\n                    </div>\n                </>\n            )}\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 881, "column": 0}, "map": {"version":3,"sources":["file:///home/shivam/TheMovie/src/components/MovieCard.tsx"],"sourcesContent":["\"use client\";\n\nimport { motion, useMotionValue, useTransform, PanInfo } from \"framer-motion\";\nimport { PlayCircle, Plus, Info, Check, Eye, EyeOff } from \"lucide-react\";\nimport Image from \"next/image\";\nimport Link from \"next/link\";\nimport { useState, useContext } from \"react\";\nimport clsx from \"clsx\";\nimport { WatchlistContext } from \"@/context/watchlist-context\";\nimport { WatchedContext } from \"@/context/WatchedContext\";\n\ninterface Movie {\n    id: number;\n    title?: string;\n    name?: string; // For TV\n    poster_path: string;\n    vote_average: number;\n    release_date?: string;\n    first_air_date?: string; // For TV\n    overview?: string;\n}\n\ninterface MovieCardProps {\n    movie: Movie;\n    className?: string;\n}\n\nexport function MovieCard({ movie, className }: MovieCardProps) {\n    const [isHovered, setIsHovered] = useState(false);\n    const [swipeAction, setSwipeAction] = useState<'watchlist' | 'watched' | null>(null);\n    const x = useMotionValue(0);\n    const backgroundColor = useTransform(\n        x,\n        [-100, 0, 100],\n        [\"rgba(34, 197, 94, 0.3)\", \"rgba(0, 0, 0, 0)\", \"rgba(229, 9, 20, 0.3)\"]\n    );\n\n    // Contexts\n    const { has, add, remove } = useContext(WatchlistContext) as any;\n    const { hasWatched, addWatched, removeWatched } = useContext(WatchedContext) as any;\n\n    // Determine type based on props (crude but effective for combined card)\n    const type = movie.name ? 'tv' : 'movie';\n\n    const isWatchlisted = has(movie.id, type);\n    const isWatched = hasWatched(movie.id);\n\n    const handleWatchlist = (e: React.MouseEvent) => {\n        e.preventDefault();\n        e.stopPropagation();\n        if (isWatchlisted) {\n            remove(movie.id, type);\n        } else {\n            add({ ...movie, type });\n        }\n    };\n\n    const handleWatched = (e: React.MouseEvent) => {\n        e.preventDefault();\n        e.stopPropagation();\n        if (isWatched) {\n            removeWatched(movie.id);\n        } else {\n            addWatched({ ...movie, type });\n        }\n    };\n\n    const title = movie.title || movie.name;\n    const date = movie.release_date || movie.first_air_date;\n    const year = date ? new Date(date).getFullYear() : \"N/A\";\n\n    const handleDragEnd = (event: any, info: PanInfo) => {\n        const offset = info.offset.x;\n        const velocity = info.velocity.x;\n\n        // Swipe right (> 50px or fast swipe) - Add to watchlist\n        if (offset > 50 || velocity > 500) {\n            if (!isWatchlisted) {\n                add({ ...movie, type });\n                setSwipeAction('watchlist');\n                setTimeout(() => setSwipeAction(null), 2000);\n            }\n        }\n        // Swipe left (< -50px or fast swipe) - Mark as watched\n        else if (offset < -50 || velocity < -500) {\n            if (!isWatched) {\n                addWatched({ ...movie, type });\n                setSwipeAction('watched');\n                setTimeout(() => setSwipeAction(null), 2000);\n            }\n        }\n\n        // Reset position\n        x.set(0);\n    };\n\n    return (\n        <motion.div\n            className={clsx(\"relative group rounded-xl overflow-hidden cursor-pointer touch-pan-y\", className)}\n            style={{ backgroundColor }}\n            initial={{ opacity: 0, y: 10 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.5 }}\n            onMouseEnter={() => setIsHovered(true)}\n            onMouseLeave={() => setIsHovered(false)}\n            drag=\"x\"\n            dragConstraints={{ left: 0, right: 0 }}\n            dragElastic={0.2}\n            onDragEnd={handleDragEnd}\n            style={{ x }}\n        >\n            {/* Swipe Indicators */}\n            {swipeAction && (\n                <motion.div\n                    initial={{ opacity: 0, scale: 0.5 }}\n                    animate={{ opacity: 1, scale: 1 }}\n                    exit={{ opacity: 0 }}\n                    className=\"absolute top-4 left-1/2 -translate-x-1/2 z-50 px-4 py-2 rounded-full text-white font-bold text-sm shadow-lg\"\n                    style={{\n                        backgroundColor: swipeAction === 'watchlist' ? '#E50914' : '#22C55E'\n                    }}\n                >\n                    {swipeAction === 'watchlist' ? '✓ Added to Watchlist' : '✓ Marked as Watched'}\n                </motion.div>\n            )}\n            {/* Poster */}\n            <div className=\"relative aspect-[2/3] w-full bg-bg-card\">\n                {movie.poster_path ? (\n                    <Image\n                        src={`https://image.tmdb.org/t/p/w500${movie.poster_path}`}\n                        alt={title || \"Movie\"}\n                        fill\n                        className={clsx(\n                            \"object-cover transition-transform duration-500\",\n                            isHovered ? \"scale-105 saturate-100\" : \"scale-100 saturate-[0.8]\"\n                        )}\n                        sizes=\"(max-width: 768px) 50vw, 33vw\"\n                    />\n                ) : (\n                    <div className=\"w-full h-full flex items-center justify-center text-text-muted\">No Image</div>\n                )}\n\n                {/* Cinematic Gradient Overlay */}\n                <div className=\"absolute inset-0 bg-gradient-to-t from-black via-black/40 to-transparent opacity-80\" />\n\n                {/* Hover Actions Overlay */}\n                <div\n                    className={clsx(\n                        \"absolute inset-0 flex flex-col items-center justify-center gap-4 bg-black/60 backdrop-blur-sm transition-opacity duration-300\",\n                        isHovered ? \"opacity-100\" : \"opacity-0\"\n                    )}\n                >\n                    <Link href={`/${type === 'tv' ? 'tv' : 'movie'}/${movie.id}`} className=\"absolute inset-0 z-0\" />\n\n                    <Link href={`/${type === 'tv' ? 'tv' : 'movie'}/${movie.id}`} className=\"relative z-10\">\n                        <div className=\"flex gap-4\">\n                            <button className=\"text-white hover:text-accent-primary transition-colors\">\n                                <PlayCircle size={40} className=\"drop-shadow-lg\" />\n                            </button>\n                        </div>\n                    </Link>\n\n                    <div className=\"flex gap-2 text-white relative z-10 flex-wrap justify-center px-4\">\n                        <button\n                            onClick={handleWatchlist}\n                            className={clsx(\n                                \"flex items-center gap-2 px-3 py-1.5 rounded-full border text-xs font-medium transition-all\",\n                                isWatchlisted\n                                    ? \"bg-accent-primary border-accent-primary text-white\"\n                                    : \"bg-white/10 hover:bg-accent-primary hover:border-transparent border-white/20\"\n                            )}\n                        >\n                            {isWatchlisted ? <Check size={14} /> : <Plus size={14} />}\n                            {isWatchlisted ? \"Added\" : \"Watchlist\"}\n                        </button>\n                        <button\n                            onClick={handleWatched}\n                            title={isWatched ? \"Mark as Unwatched\" : \"Mark as Watched\"}\n                            className={clsx(\n                                \"p-1.5 rounded-full border text-xs font-medium transition-all\",\n                                isWatched\n                                    ? \"bg-green-600 border-green-600 text-white\"\n                                    : \"bg-white/10 hover:bg-green-600 hover:border-transparent border-white/20\"\n                            )}\n                        >\n                            {isWatched ? <Eye size={14} /> : <EyeOff size={14} />}\n                        </button>\n                    </div>\n                </div>\n            </div>\n\n            {/* Title & Metadata */}\n            <div className=\"absolute bottom-0 left-0 right-0 p-3 sm:p-4 transform transition-transform duration-300 group-hover:translate-y-2 pointer-events-none\">\n                <h3 className=\"text-white font-display font-medium text-sm sm:text-base lg:text-lg truncate drop-shadow-md\">\n                    {title}\n                </h3>\n                <div className=\"flex items-center gap-2 mt-1\">\n                    <span className=\"text-accent-primary text-[10px] sm:text-xs font-bold px-1.5 py-0.5 rounded bg-accent-primary/10 border border-accent-primary/20\">\n                        {(movie.vote_average * 10).toFixed(0)}% Match\n                    </span>\n                    <span className=\"text-text-muted text-[10px] sm:text-xs\">\n                        {year}\n                    </span>\n                </div>\n            </div>\n        </motion.div>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1226, "column": 0}, "map": {"version":3,"sources":["file:///home/shivam/TheMovie/src/app/discover/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { Filters } from \"@/components/Filters\";\nimport { AdvancedFilters } from \"@/components/AdvancedFilters\";\nimport { MovieCard } from \"@/components/MovieCard\";\nimport { useEffect, useState } from \"react\";\nimport { getDiscoverMovies, getMovieGenres } from \"@/api/tmdb\";\nimport { Shuffle, Calendar, Trophy, X, Search, ChevronLeft, ChevronRight, Star, TrendingUp, Loader2 } from \"lucide-react\";\nimport { useRouter, useSearchParams } from \"next/navigation\";\nimport clsx from \"clsx\";\n\nexport default function DiscoverPage() {\n    const [movies, setMovies] = useState<any[]>([]);\n    const [loading, setLoading] = useState(true);\n    const [showRandomPicker, setShowRandomPicker] = useState(false);\n    const [genres, setGenres] = useState<any[]>([]);\n    const [activePreset, setActivePreset] = useState<string | null>(null);\n    const [currentPage, setCurrentPage] = useState(1);\n    const [totalPages, setTotalPages] = useState(1);\n\n    // Random Picker State\n    const [randomGenre, setRandomGenre] = useState(\"\");\n    const [randomRating, setRandomRating] = useState(\"\");\n    const router = useRouter();\n    const searchParams = useSearchParams();\n\n    // Fetch initial genres for random picker\n    useEffect(() => {\n        async function loadGenres() {\n            const genreData = await getMovieGenres();\n            if (genreData?.genres) setGenres(genreData.genres);\n        }\n        loadGenres();\n    }, []);\n\n    // Fetch Content based on URL Params (Filters)\n    useEffect(() => {\n        async function loadContent() {\n            setLoading(true);\n            const genre = searchParams.get(\"with_genres\");\n            const preset = searchParams.get(\"preset\");\n            const page = parseInt(searchParams.get(\"page\") || \"1\");\n            const sortBy = searchParams.get(\"sort_by\") || \"popularity.desc\";\n            const yearMin = searchParams.get(\"year_min\");\n            const yearMax = searchParams.get(\"year_max\");\n            const runtime = searchParams.get(\"runtime\");\n            const language = searchParams.get(\"language\");\n            const certification = searchParams.get(\"certification\");\n            \n            setCurrentPage(page);\n\n            const filters: any = { sort_by: sortBy, page };\n            if (genre) filters.with_genres = genre;\n            \n            // Apply advanced filters\n            if (yearMin) filters[\"primary_release_date.gte\"] = `${yearMin}-01-01`;\n            if (yearMax) filters[\"primary_release_date.lte\"] = `${yearMax}-12-31`;\n            if (runtime) {\n                const [min, max] = runtime.split(\"-\").map(Number);\n                filters[\"with_runtime.gte\"] = min;\n                filters[\"with_runtime.lte\"] = max;\n            }\n            if (language) filters.with_original_language = language;\n            if (certification) {\n                filters.certification_country = \"US\";\n                filters.certification = certification;\n            }\n\n            // Handle Presets (override advanced filters if present)\n            if (preset === 'era') {\n                setActivePreset('era');\n                filters[\"primary_release_date.gte\"] = \"1980-01-01\";\n                filters[\"primary_release_date.lte\"] = \"1999-12-31\";\n                filters[\"sort_by\"] = \"vote_average.desc\";\n                filters[\"vote_count.gte\"] = 1000;\n            } else if (preset === 'awards') {\n                setActivePreset('awards');\n                filters[\"vote_average.gte\"] = 8.0;\n                filters[\"vote_count.gte\"] = 2000;\n                filters[\"sort_by\"] = \"vote_average.desc\";\n            } else if (preset === 'recent') {\n                setActivePreset('recent');\n                const year = new Date().getFullYear();\n                filters[\"primary_release_date.gte\"] = `${year}-01-01`;\n                filters[\"sort_by\"] = \"popularity.desc\";\n            } else if (preset === 'hidden') {\n                setActivePreset('hidden');\n                filters[\"vote_count.gte\"] = 100;\n                filters[\"vote_count.lte\"] = 500;\n                filters[\"vote_average.gte\"] = 7.5;\n                filters[\"sort_by\"] = \"vote_average.desc\";\n            } else {\n                setActivePreset(null);\n            }\n\n            const data = await getDiscoverMovies(filters);\n            if (data?.results) {\n                setMovies(data.results);\n                setTotalPages(Math.min(data.total_pages || 1, 500)); // TMDB limits to 500 pages\n            }\n            setLoading(false);\n        }\n        loadContent();\n    }, [searchParams]);\n\n    const handleRandomPick = async () => {\n        setLoading(true);\n        // Fetch a random page of movies based on filters\n        const page = Math.floor(Math.random() * 20) + 1; // Random page 1-20\n        const filters: any = { page };\n        if (randomGenre) filters.with_genres = randomGenre;\n        if (randomRating) filters[\"vote_average.gte\"] = randomRating;\n\n        const data = await getDiscoverMovies(filters);\n        if (data?.results && data.results.length > 0) {\n            const randomMovie = data.results[Math.floor(Math.random() * data.results.length)];\n            // Navigate to the movie\n            router.push(`/movie/${randomMovie.id}`);\n        }\n        setLoading(false);\n    };\n\n    const handlePreset = (preset: string) => {\n        const params = new URLSearchParams(searchParams.toString());\n        if (activePreset === preset) {\n            params.delete(\"preset\");\n        } else {\n            params.set(\"preset\", preset);\n            params.delete(\"genre\"); // Clear genre when selecting preset for clarity\n        }\n        params.set(\"page\", \"1\"); // Reset to first page\n        router.push(`/discover?${params.toString()}`);\n    };\n\n    const handlePageChange = (newPage: number) => {\n        if (newPage < 1 || newPage > totalPages || loading) return;\n        setLoading(true);\n        const params = new URLSearchParams(searchParams.toString());\n        params.set(\"page\", newPage.toString());\n        router.push(`/discover?${params.toString()}`);\n        window.scrollTo({ top: 0 });\n    };\n\n    return (\n        <main className=\"min-h-screen pt-32 sm:pt-36 pb-20 bg-bg-main relative\">\n            <div className=\"container mx-auto px-4 sm:px-6 lg:px-20 mb-8 sm:mb-10\">\n                <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-8\">\n                    <div>\n                        <h1 className=\"text-4xl font-display font-bold text-white mb-2 flex items-center gap-3\">\n                            <span className=\"text-accent-primary\">\n                                <Search size={32} />\n                            </span>\n                            Discover Movies\n                        </h1>\n                        <p className=\"text-text-secondary\">Explore by era, awards, or let us pick for you</p>\n                    </div>\n                </div>\n\n                {/* Feature Buttons */}\n                <div className=\"flex flex-wrap gap-4 mb-10\">\n                    <button\n                        onClick={() => handlePreset('era')}\n                        className={clsx(\n                            \"flex items-center gap-2 px-5 py-2.5 rounded-full border transition-colors\",\n                            activePreset === 'era' ? \"bg-accent-secondary border-accent-secondary text-white\" : \"bg-white/5 border-white/10 text-white hover:bg-white/10\"\n                        )}\n                    >\n                        <Calendar size={18} /> 80s & 90s Classics\n                    </button>\n                    <button\n                        onClick={() => handlePreset('awards')}\n                        className={clsx(\n                            \"flex items-center gap-2 px-5 py-2.5 rounded-full border transition-colors\",\n                            activePreset === 'awards' ? \"bg-accent-secondary border-accent-secondary text-white\" : \"bg-white/5 border-white/10 text-white hover:bg-white/10\"\n                        )}\n                    >\n                        <Trophy size={18} /> Top Rated\n                    </button>\n                    <button\n                        onClick={() => handlePreset('recent')}\n                        className={clsx(\n                            \"flex items-center gap-2 px-5 py-2.5 rounded-full border transition-colors\",\n                            activePreset === 'recent' ? \"bg-accent-secondary border-accent-secondary text-white\" : \"bg-white/5 border-white/10 text-white hover:bg-white/10\"\n                        )}\n                    >\n                        <TrendingUp size={18} /> This Year\n                    </button>\n                    <button\n                        onClick={() => handlePreset('hidden')}\n                        className={clsx(\n                            \"flex items-center gap-2 px-5 py-2.5 rounded-full border transition-colors\",\n                            activePreset === 'hidden' ? \"bg-accent-secondary border-accent-secondary text-white\" : \"bg-white/5 border-white/10 text-white hover:bg-white/10\"\n                        )}\n                    >\n                        <Star size={18} /> Hidden Gems\n                    </button>\n                    <button\n                        onClick={() => setShowRandomPicker(!showRandomPicker)}\n                        className={clsx(\n                            \"flex items-center gap-2 px-5 py-2.5 rounded-full border transition-colors font-medium\",\n                            showRandomPicker\n                                ? \"bg-accent-primary border-accent-primary text-white\"\n                                : \"bg-white/5 border-white/10 text-white hover:bg-white/10\"\n                        )}\n                    >\n                        {showRandomPicker ? <X size={18} /> : <Shuffle size={18} />}\n                        {showRandomPicker ? \"Close Picker\" : \"Random Pick\"}\n                    </button>\n                    <AdvancedFilters />\n                </div>\n\n                {/* Random Picker Section */}\n                {showRandomPicker && (\n                    <div className=\"bg-bg-card border border-white/10 rounded-2xl p-8 mb-12 animate-fade-in-up text-center relative overflow-hidden\">\n                        <div className=\"relative z-10 max-w-lg mx-auto\">\n                            <div className=\"mx-auto w-12 h-12 bg-accent-primary/20 rounded-lg flex items-center justify-center text-accent-primary mb-4\">\n                                <Shuffle size={24} />\n                            </div>\n                            <h3 className=\"text-2xl font-bold text-white mb-2\">Random Movie Picker</h3>\n                            <p className=\"text-text-secondary mb-8\">Can't decide what to watch? Let fate decide!</p>\n\n                            <div className=\"flex gap-4 mb-8\">\n                                <select\n                                    className=\"flex-1 bg-black/50 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-accent-primary appearance-none placeholder-white\"\n                                    value={randomGenre}\n                                    onChange={(e) => setRandomGenre(e.target.value)}\n                                >\n                                    <option value=\"\" className=\"text-black\">Any Genre</option>\n                                    {genres.map(g => (\n                                        <option key={g.id} value={g.id} className=\"text-black\">{g.name}</option>\n                                    ))}\n                                </select>\n                                <select\n                                    className=\"flex-1 bg-black/50 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-accent-primary appearance-none\"\n                                    value={randomRating}\n                                    onChange={(e) => setRandomRating(e.target.value)}\n                                >\n                                    <option value=\"\" className=\"text-black\">Any Rating</option>\n                                    <option value=\"7\" className=\"text-black\">7+ Good</option>\n                                    <option value=\"8\" className=\"text-black\">8+ Great</option>\n                                    <option value=\"9\" className=\"text-black\">9+ Masterpiece</option>\n                                </select>\n                            </div>\n\n                            <button\n                                onClick={handleRandomPick}\n                                disabled={loading && showRandomPicker} // Disable while picking\n                                className=\"w-full py-4 bg-accent-primary hover:bg-accent-primary/90 text-white font-bold rounded-xl transition-transform hover:scale-[1.02 shadow-lg shadow-accent-primary/20 disabled:opacity-50\"\n                            >\n                                <Shuffle size={20} className=\"inline mr-2\" />\n                                {loading && showRandomPicker ? \"Picking...\" : \"Pick Random Movie\"}\n                            </button>\n                        </div>\n                        {/* Background Splashes */}\n                        <div className=\"absolute top-0 right-0 w-64 h-64 bg-accent-primary/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2\" />\n                        <div className=\"absolute bottom-0 left-0 w-64 h-64 bg-accent-secondary/5 rounded-full blur-3xl translate-y-1/2 -translate-x-1/2\" />\n                    </div>\n                )}\n\n                <Filters />\n            </div>\n\n            <div className=\"container px-4 sm:px-6 lg:px-20 mx-auto\">\n                {loading && !showRandomPicker ? (\n                    <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 sm:gap-6\">\n                        {[...Array(10)].map((_, i) => (\n                            <div key={i} className=\"aspect-[2/3] bg-white/5 rounded-xl animate-pulse\" />\n                        ))}\n                    </div>\n                ) : (\n                    <>\n                        <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-y-10 sm:gap-y-12 gap-x-3 sm:gap-x-6\">\n                            {movies.map((movie) => (\n                                <MovieCard key={movie.id} movie={movie} />\n                            ))}\n                        </div>\n\n                        {/* Pagination */}\n                        {totalPages > 1 && (\n                            <div className=\"flex items-center justify-center gap-2 mt-16 mb-8\">\n                                <button\n                                    onClick={() => handlePageChange(currentPage - 1)}\n                                    disabled={currentPage === 1}\n                                    className=\"p-2 rounded-lg bg-white/5 border border-white/10 text-white hover:bg-white/10 disabled:opacity-30 disabled:cursor-not-allowed transition-all\"\n                                >\n                                    <ChevronLeft size={20} />\n                                </button>\n\n                                <div className=\"flex items-center gap-2\">\n                                    {currentPage > 2 && (\n                                        <>\n                                            <button\n                                                onClick={() => handlePageChange(1)}\n                                                className=\"px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white hover:bg-white/10 transition-all\"\n                                            >\n                                                1\n                                            </button>\n                                            {currentPage > 3 && <span className=\"text-text-muted\">...</span>}\n                                        </>\n                                    )}\n\n                                    {currentPage > 1 && (\n                                        <button\n                                            onClick={() => handlePageChange(currentPage - 1)}\n                                            className=\"px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white hover:bg-white/10 transition-all\"\n                                        >\n                                            {currentPage - 1}\n                                        </button>\n                                    )}\n\n                                    <button\n                                        className=\"px-4 py-2 rounded-lg bg-accent-primary border border-accent-primary text-white font-bold\"\n                                    >\n                                        {currentPage}\n                                    </button>\n\n                                    {currentPage < totalPages && (\n                                        <button\n                                            onClick={() => handlePageChange(currentPage + 1)}\n                                            className=\"px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white hover:bg-white/10 transition-all\"\n                                        >\n                                            {currentPage + 1}\n                                        </button>\n                                    )}\n\n                                    {currentPage < totalPages - 1 && (\n                                        <>\n                                            {currentPage < totalPages - 2 && <span className=\"text-text-muted\">...</span>}\n                                            <button\n                                                onClick={() => handlePageChange(totalPages)}\n                                                className=\"px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white hover:bg-white/10 transition-all\"\n                                            >\n                                                {totalPages}\n                                            </button>\n                                        </>\n                                    )}\n                                </div>\n\n                                <button\n                                    onClick={() => handlePageChange(currentPage + 1)}\n                                    disabled={currentPage === totalPages}\n                                    className=\"p-2 rounded-lg bg-white/5 border border-white/10 text-white hover:bg-white/10 disabled:opacity-30 disabled:cursor-not-allowed transition-all\"\n                                >\n                                    <ChevronRight size={20} />\n                                </button>\n                            </div>\n                        )}\n                    </>\n                )}\n            </div>\n        </main>\n    );\n}\n"],"names":[],"mappings":"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"}}]
}