(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,43531,e=>{"use strict";let t=(0,e.i(75254).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>t],43531)},7233,e=>{"use strict";let t=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},86536,77705,e=>{"use strict";var t=e.i(75254);let s=(0,t.default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>s],86536);let a=(0,t.default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);e.s(["EyeOff",()=>a],77705)},47068,e=>{"use strict";var t=e.i(43476),s=e.i(46932),a=e.i(86427),r=e.i(71645),i=e.i(37806),l=e.i(47414);function o(e){let t=(0,l.useConstant)(()=>(0,a.motionValue)(e)),{isStatic:s}=(0,r.useContext)(i.MotionConfigContext);if(s){let[,s]=(0,r.useState)(e);(0,r.useEffect)(()=>t.on("change",s),[])}return t}var c=e.i(44230),d=e.i(87022),n=e.i(74008);function m(e,t){let s=o(t()),a=()=>s.set(t());return a(),(0,n.useIsomorphicLayoutEffect)(()=>{let t=()=>d.frame.preRender(a,!1,!0),s=e.map(e=>e.on("change",t));return()=>{s.forEach(e=>e()),(0,d.cancelFrame)(a)}}),s}function x(e,t){let s=(0,l.useConstant)(()=>[]);return m(e,()=>{s.length=0;let a=e.length;for(let t=0;t<a;t++)s[t]=e[t].get();return t(s)})}let h=(0,e.i(75254).default)("circle-play",[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var u=e.i(7233),p=e.i(43531),f=e.i(86536),b=e.i(77705),g=e.i(57688),y=e.i(22016),v=e.i(7670),j=e.i(63784),w=e.i(27427),N=e.i(27085);function k({movie:e,className:i}){let{isSignedIn:d}=(0,N.useUser)(),{openSignIn:n}=(0,N.useClerk)(),[k,C]=(0,r.useState)(!1),[M,z]=(0,r.useState)(null),A=o(0),E=function e(t,s,r,i){if("function"==typeof t){let e;return a.collectMotionValues.current=[],t(),e=m(a.collectMotionValues.current,t),a.collectMotionValues.current=void 0,e}if(void 0!==r&&!Array.isArray(r)&&"function"!=typeof s){var o=t,d=s,n=r,h=i;let a=(0,l.useConstant)(()=>Object.keys(n)),c=(0,l.useConstant)(()=>({}));for(let t of a)c[t]=e(o,d,n[t],h);return c}let u="function"==typeof s?s:function(...e){let t=!Array.isArray(e[0]),s=t?0:-1,a=e[0+s],r=e[1+s],i=e[2+s],l=e[3+s],o=(0,c.interpolate)(r,i,l);return t?o(a):o}(s,r,i);return Array.isArray(t)?x(t,u):x([t],([e])=>u(e))}(A,[-100,0,100],["rgba(34, 197, 94, 0.3)","rgba(0, 0, 0, 0)","rgba(229, 9, 20, 0.3)"]),{has:S,add:W,remove:T}=(0,r.useContext)(j.WatchlistContext),{hasWatched:$,addWatched:_,removeWatched:O}=(0,r.useContext)(w.WatchedContext),U=e.name?"tv":"movie",V=S(e.id,U),P=$(e.id),B=e.title||e.name,D=e.release_date||e.first_air_date,F=D?new Date(D).getFullYear():"N/A";return(0,t.jsxs)(s.motion.div,{className:(0,v.default)("relative group rounded-xl overflow-hidden cursor-pointer touch-pan-y",i),style:{backgroundColor:E,x:A},initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5},onMouseEnter:()=>C(!0),onMouseLeave:()=>C(!1),drag:"x",dragConstraints:{left:0,right:0},dragElastic:.2,onDragEnd:(t,s)=>{let a=s.offset.x,r=s.velocity.x;a>50||r>500?V||(W({...e,type:U}),z("watchlist"),setTimeout(()=>z(null),2e3)):(a<-50||r<-500)&&!P&&(_({...e,type:U}),z("watched"),setTimeout(()=>z(null),2e3)),A.set(0)},children:[M&&(0,t.jsx)(s.motion.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0},className:"absolute top-4 left-1/2 -translate-x-1/2 z-50 px-4 py-2 rounded-full text-white font-bold text-sm shadow-lg",style:{backgroundColor:"watchlist"===M?"#E50914":"#22C55E"},children:"watchlist"===M?"✓ Added to Watchlist":"✓ Marked as Watched"}),(0,t.jsxs)("div",{className:"relative aspect-[2/3] w-full bg-bg-card",children:[e.poster_path?(0,t.jsx)(g.default,{src:`https://image.tmdb.org/t/p/w500${e.poster_path}`,alt:B||"Movie",fill:!0,className:(0,v.default)("object-cover transition-transform duration-500",k?"scale-105 saturate-100":"scale-100 saturate-[0.8]"),sizes:"(max-width: 768px) 50vw, 33vw"}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center text-text-muted",children:"No Image"}),(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/40 to-transparent opacity-80"}),(0,t.jsxs)("div",{className:(0,v.default)("absolute inset-0 flex flex-col items-center justify-center gap-3 sm:gap-4 bg-black/60 backdrop-blur-sm transition-opacity duration-300",k?"opacity-100":"opacity-0"),children:[(0,t.jsx)(y.default,{href:`/${"tv"===U?"tv":"movie"}/${e.id}`,className:"absolute inset-0 z-0"}),(0,t.jsx)(y.default,{href:`/${"tv"===U?"tv":"movie"}/${e.id}`,className:"relative z-10",children:(0,t.jsx)("div",{className:"flex gap-4",children:(0,t.jsx)("button",{className:"text-white hover:text-accent-primary transition-colors",children:(0,t.jsx)(h,{size:32,className:"sm:w-[40px] sm:h-[40px] drop-shadow-lg"})})})}),(0,t.jsxs)("div",{className:"flex gap-2 text-white relative z-10 flex-wrap justify-center px-2 sm:px-4",children:[(0,t.jsxs)("button",{onClick:t=>{(t.preventDefault(),t.stopPropagation(),d)?V?T(e.id,U):W({...e,type:U}):n()},className:(0,v.default)("flex items-center gap-1.5 px-2.5 py-1.5 rounded-full border text-[10px] sm:text-xs font-medium transition-all backdrop-blur-md",V?"bg-accent-primary/80 border-accent-primary text-white":"bg-black/30 hover:bg-accent-primary hover:border-transparent border-white/20"),children:[V?(0,t.jsx)(p.Check,{size:12}):(0,t.jsx)(u.Plus,{size:12}),V?"Added":"Watchlist"]}),(0,t.jsx)("button",{onClick:t=>{(t.preventDefault(),t.stopPropagation(),d)?P?O(e.id):_({...e,type:U}):n()},title:P?"Mark as Unwatched":"Mark as Watched",className:(0,v.default)("p-1.5 rounded-full border text-xs font-medium transition-all backdrop-blur-md",P?"bg-green-600/80 border-green-600 text-white":"bg-black/30 hover:bg-green-600 hover:border-transparent border-white/20"),children:P?(0,t.jsx)(f.Eye,{size:12}):(0,t.jsx)(b.EyeOff,{size:12})})]})]})]}),(0,t.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-3 sm:p-4 transform transition-transform duration-300 group-hover:translate-y-2 pointer-events-none",children:[(0,t.jsx)("h3",{className:"text-white font-display font-medium text-sm sm:text-base lg:text-lg truncate drop-shadow-md",children:B}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,t.jsxs)("span",{className:"text-accent-primary text-[10px] sm:text-xs font-bold px-1.5 py-0.5 rounded bg-accent-primary/10 border border-accent-primary/20",children:[(10*e.vote_average).toFixed(0),"% Match"]}),(0,t.jsx)("span",{className:"text-text-muted text-[10px] sm:text-xs",children:F})]})]})]})}e.s(["MovieCard",()=>k],47068)},3116,e=>{"use strict";let t=(0,e.i(75254).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>t],3116)},13278,e=>{"use strict";var t=e.i(43476),s=e.i(27085),a=e.i(17850),r=e.i(57688),i=e.i(3116),l=e.i(75254);let o=(0,l.default)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]]),c=(0,l.default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),d=(0,l.default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),n=(0,l.default)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),m=(0,l.default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var x=e.i(86536),h=e.i(92448),u=e.i(71645),p=e.i(63784),f=e.i(27427),b=e.i(47068);function g(){let e,l,g,y,{isLoaded:v,isSignedIn:j,user:w}=(0,s.useUser)(),{openUserProfile:N}=(0,s.useClerk)(),{items:k}=(0,u.useContext)(p.WatchlistContext),{watched:C}=(0,u.useContext)(f.WatchedContext),[M,z]=(0,u.useState)(""),[A,E]=(0,u.useState)(!1),[S,W]=(0,u.useState)("watchlist");(0,u.useEffect)(()=>{{let e=localStorage.getItem("user_bio");e&&z(e)}},[]);let T=()=>{E(!1),localStorage.setItem("user_bio",M)};return v?j?(0,t.jsx)("main",{className:"min-h-screen pt-32 sm:pt-36 pb-20 bg-bg-main",children:(0,t.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-20",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row items-center gap-6 sm:gap-8 mb-10 sm:mb-12 bg-bg-card p-6 sm:p-8 rounded-2xl border border-white/5 relative overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 w-64 sm:w-96 h-64 sm:h-96 bg-accent-primary/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"}),(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)("div",{className:"w-24 h-24 sm:w-32 sm:h-32 rounded-full border-4 border-bg-main overflow-hidden ring-4 ring-white/10 relative group",children:(0,t.jsx)(r.default,{src:w.imageUrl,alt:w.fullName||"User",fill:!0,className:"object-cover"})})}),(0,t.jsxs)("div",{className:"flex-1 text-center md:text-left relative z-10 w-full",children:[(0,t.jsx)("h1",{className:"text-2xl sm:text-3xl font-display font-bold text-white mb-2",children:w.fullName}),(0,t.jsx)("p",{className:"text-text-secondary text-sm sm:text-base mb-4",children:w.primaryEmailAddress?.emailAddress}),(0,t.jsx)("div",{className:"mb-4 max-w-xl",children:A?(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{autoFocus:!0,type:"text",value:M,onChange:e=>z(e.target.value),placeholder:"Add a bio...",className:"bg-black/50 border border-white/20 rounded px-3 py-1 text-sm text-white w-full focus:outline-none focus:border-accent-primary",onKeyDown:e=>"Enter"===e.key&&T()}),(0,t.jsx)("button",{onClick:T,className:"p-1 hover:text-accent-primary text-white",children:(0,t.jsx)(m,{size:16})})]}):(0,t.jsxs)("p",{className:"text-text-muted text-sm flex items-center justify-center md:justify-start gap-2 group cursor-pointer",onClick:()=>E(!0),children:[M||"Add a bio...",(0,t.jsx)(n,{size:12,className:"opacity-0 group-hover:opacity-100 transition-opacity"})]})}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-3 justify-center md:justify-start",children:[(0,t.jsxs)("div",{className:"px-4 py-2 rounded-full bg-white/5 border border-white/10 text-sm text-text-muted flex items-center gap-2",children:[(0,t.jsx)(o,{size:14,className:"text-accent-primary"})," ",k.length," Saved"]}),(0,t.jsxs)("div",{className:"px-4 py-2 rounded-full bg-white/5 border border-white/10 text-sm text-text-muted flex items-center gap-2",children:[(0,t.jsx)(x.Eye,{size:14,className:"text-green-500"})," ",C.length," Watched"]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 sm:gap-4 relative z-10",children:[(0,t.jsx)("button",{onClick:()=>N(),className:"p-2.5 sm:p-3 rounded-full bg-white/5 hover:bg-white/10 border border-white/10 text-white transition-colors",children:(0,t.jsx)(c,{size:18,className:"sm:w-5 sm:h-5"})}),(0,t.jsx)(h.SignOutButton,{children:(0,t.jsx)("button",{className:"p-2.5 sm:p-3 rounded-full bg-red-500/10 hover:bg-red-500/20 border border-red-500/20 text-red-500 transition-colors",children:(0,t.jsx)(d,{size:18,className:"sm:w-5 sm:h-5"})})})]})]}),C.length>0&&(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 sm:gap-6 mb-10 sm:mb-12",children:[(0,t.jsxs)("div",{className:"bg-bg-card border border-white/5 p-6 rounded-2xl relative overflow-hidden group",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:(0,t.jsx)(x.Eye,{size:64})}),(0,t.jsx)("h3",{className:"text-text-secondary text-sm font-medium mb-1",children:"Total Watched"}),(0,t.jsx)("p",{className:"text-4xl font-display font-bold text-white",children:C.length}),(0,t.jsx)("div",{className:"w-full bg-white/10 h-1 mt-4 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-green-500 w-full"})})]}),(0,t.jsxs)("div",{className:"bg-bg-card border border-white/5 p-6 rounded-2xl relative overflow-hidden group",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:(0,t.jsx)(o,{size:64})}),(0,t.jsx)("h3",{className:"text-text-secondary text-sm font-medium mb-1",children:"Favorite Genre"}),(0,t.jsx)("p",{className:"text-2xl font-display font-bold text-white truncate",children:(e={},C.forEach(t=>{t.genres?.forEach(t=>{e[t.name]=(e[t.name]||0)+1})}),(l=Object.entries(e).sort((e,t)=>t[1]-e[1])).length>0?l[0][0]:"N/A")}),(0,t.jsx)("p",{className:"text-xs text-text-muted mt-2",children:"Based on your history"})]}),(0,t.jsxs)("div",{className:"bg-bg-card border border-white/5 p-6 rounded-2xl relative overflow-hidden group",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:(0,t.jsx)(i.Clock,{size:64})}),(0,t.jsx)("h3",{className:"text-text-secondary text-sm font-medium mb-1",children:"Time Spent"}),(0,t.jsx)("p",{className:"text-2xl font-display font-bold text-white",children:(y=Math.floor((g=C.reduce((e,t)=>e+(t.runtime||0),0))/60),`${y}h ${g%60}m`)}),(0,t.jsx)("p",{className:"text-xs text-text-muted mt-2",children:"Approximate runtime"})]})]}),(0,t.jsxs)("div",{className:"flex gap-4 sm:gap-6 mb-6 sm:mb-8 border-b border-white/5 overflow-x-auto",children:[(0,t.jsxs)("button",{onClick:()=>W("watchlist"),className:`pb-3 sm:pb-4 text-xs sm:text-sm font-bold transition-colors relative whitespace-nowrap ${"watchlist"===S?"text-white":"text-text-muted hover:text-white"}`,children:["My Watchlist","watchlist"===S&&(0,t.jsx)("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-accent-primary rounded-t-full"})]}),(0,t.jsxs)("button",{onClick:()=>W("watched"),className:`pb-3 sm:pb-4 text-xs sm:text-sm font-bold transition-colors relative whitespace-nowrap ${"watched"===S?"text-white":"text-text-muted hover:text-white"}`,children:["Watched History","watched"===S&&(0,t.jsx)("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-accent-primary rounded-t-full"})]})]}),(0,t.jsx)("div",{className:"space-y-6",children:"watchlist"===S?k.length>0?(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-y-8 sm:gap-y-10 gap-x-3 sm:gap-x-6",children:k.map(e=>(0,t.jsx)(b.MovieCard,{movie:e},e.id))}):(0,t.jsxs)("div",{className:"py-20 text-center bg-bg-card rounded-2xl border border-white/5 border-dashed",children:[(0,t.jsx)("p",{className:"text-text-secondary",children:"Your watchlist is empty."}),(0,t.jsx)("p",{className:"text-text-muted text-sm mt-2",children:"Browse movies and click the + button to add them."})]}):C.length>0?(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-y-8 sm:gap-y-10 gap-x-3 sm:gap-x-6",children:C.map(e=>(0,t.jsx)(b.MovieCard,{movie:e},e.id))}):(0,t.jsxs)("div",{className:"py-20 text-center bg-bg-card rounded-2xl border border-white/5 border-dashed",children:[(0,t.jsx)("p",{className:"text-text-secondary",children:"No movies watched yet."}),(0,t.jsx)("p",{className:"text-text-muted text-sm mt-2",children:"Mark movies as watched to track your history."})]})})]})}):(0,t.jsx)(a.RedirectToSignIn,{}):(0,t.jsx)("div",{className:"min-h-screen bg-bg-main flex items-center justify-center text-white",children:"Loading..."})}e.s(["default",()=>g],13278)}]);