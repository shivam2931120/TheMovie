module.exports=[40777,a=>{"use strict";var b=a.i(87924),c=a.i(46271),d=a.i(62036),e=a.i(25015),f=a.i(70106);let g=(0,f.default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var h=a.i(15618),i=a.i(13749),j=a.i(50522),k=a.i(71987),l=a.i(72131),m=a.i(79118),n=a.i(38246);function o(){let[a,f]=(0,l.useState)([]),[o,p]=(0,l.useState)(0),[q,r]=(0,l.useState)(!0),[s,t]=(0,l.useState)(1);(0,l.useEffect)(()=>{!async function(){try{let[a,b,c]=await Promise.all([(0,m.getTrendingMovies)("day"),(0,m.getPopularMovies)(),(0,m.getTopRatedMovies)()]),d=[...(a?.results||[]).slice(0,10),...(b?.results||[]).slice(0,10),...(c?.results||[]).slice(0,10)].filter((a,b,c)=>b===c.findIndex(b=>b.id===a.id)).sort(()=>Math.random()-.5);f(d.slice(0,20))}catch(a){console.error("Hero load error:",a)}finally{r(!1)}}()},[]),(0,l.useEffect)(()=>{if(0===a.length)return;let b=setInterval(()=>{t(1),p(b=>(b+1)%a.length)},8e3);return()=>clearInterval(b)},[a.length]);let u=(0,l.useCallback)(()=>{t(1),p(b=>(b+1)%a.length)},[a.length]),v=(0,l.useCallback)(()=>{t(-1),p(b=>(b-1+a.length)%a.length)},[a.length]),w=a[o];return q?(0,b.jsx)("div",{className:"h-[85vh] w-full bg-bg-main animate-pulse"}):w?(0,b.jsxs)("section",{className:"relative h-[70vh] sm:h-[85vh] w-full overflow-hidden mt-20 sm:mt-24 z-0 group",children:[(0,b.jsx)(d.AnimatePresence,{initial:!1,mode:"wait",custom:s,children:(0,b.jsxs)(c.motion.div,{custom:s,initial:{opacity:0,x:100*s},animate:{opacity:1,x:0},exit:{opacity:0,x:-100*s},transition:{duration:.8,ease:"easeInOut"},className:"absolute inset-0",children:[w.backdrop_path&&(0,b.jsx)(k.default,{src:`https://image.tmdb.org/t/p/original${w.backdrop_path}`,alt:w.title||"Movie backdrop",fill:!0,priority:0===o,className:"object-cover object-center"}),(0,b.jsx)("div",{className:"film-grain absolute inset-0 z-10"}),(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-bg-main via-bg-main/50 to-transparent z-10 opacity-90"}),(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-bg-main via-transparent to-transparent z-10"})]},o)}),(0,b.jsx)("button",{onClick:v,className:"absolute left-4 top-1/2 -translate-y-1/2 z-30 p-3 bg-black/50 hover:bg-black/80 text-white rounded-full backdrop-blur-sm opacity-0 group-hover:opacity-100 transition-all duration-300 hover:scale-110","aria-label":"Previous movie",children:(0,b.jsx)(i.ChevronLeft,{size:24})}),(0,b.jsx)("button",{onClick:u,className:"absolute right-4 top-1/2 -translate-y-1/2 z-30 p-3 bg-black/50 hover:bg-black/80 text-white rounded-full backdrop-blur-sm opacity-0 group-hover:opacity-100 transition-all duration-300 hover:scale-110","aria-label":"Next movie",children:(0,b.jsx)(j.ChevronRight,{size:24})}),(0,b.jsx)("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 z-30 flex gap-2",children:a.slice(0,10).map((a,c)=>(0,b.jsx)("button",{onClick:()=>{t(c>o?1:-1),p(c)},className:`h-1 rounded-full transition-all duration-300 ${c===o%10?"w-8 bg-accent-primary":"w-2 bg-white/30 hover:bg-white/50"}`,"aria-label":`Go to movie ${c+1}`},c))}),(0,b.jsx)("div",{className:"relative z-20 h-full container mx-auto px-4 sm:px-6 lg:px-20 flex flex-col justify-center",children:(0,b.jsx)(d.AnimatePresence,{mode:"wait",children:(0,b.jsx)(c.motion.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0,y:-30},transition:{duration:.6,delay:.2},className:"max-w-2xl",children:w&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-3 sm:mb-4",children:[(0,b.jsxs)("span",{className:"px-2 py-1 bg-white/10 backdrop-blur-md rounded text-xs font-medium text-white border border-white/10",children:["TMDB ",w.vote_average?.toFixed(1)]}),(0,b.jsx)("span",{className:"text-text-secondary text-xs sm:text-sm font-medium",children:w.release_date?.split("-")[0]})]}),(0,b.jsx)("h1",{className:"font-display text-4xl sm:text-5xl md:text-7xl lg:text-8xl font-bold text-white leading-[0.9] mb-3 sm:mb-4 drop-shadow-2xl",children:w.title}),(0,b.jsx)("p",{className:"text-text-muted text-sm sm:text-base md:text-lg line-clamp-2 sm:line-clamp-3 mb-6 sm:mb-8 max-w-lg leading-relaxed",children:w.overview}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4",children:[(0,b.jsxs)("button",{className:"flex items-center gap-2 px-5 sm:px-8 py-2.5 sm:py-3.5 bg-accent-primary hover:bg-accent-primary/90 text-white font-bold rounded-lg transition-all transform hover:scale-105 shadow-[0_0_20px_rgba(229,9,20,0.4)] text-sm sm:text-base",children:[(0,b.jsx)(e.Play,{fill:"currentColor",size:18}),(0,b.jsx)("span",{className:"hidden xs:inline",children:"Watch Trailer"}),(0,b.jsx)("span",{className:"xs:hidden",children:"Trailer"})]}),(0,b.jsx)(n.default,{href:`/movie/${w.id}`,children:(0,b.jsxs)("button",{className:"flex items-center gap-2 px-4 sm:px-6 py-2.5 sm:py-3.5 bg-white/10 hover:bg-white/20 border border-white/10 backdrop-blur-md text-white font-medium rounded-lg transition-all text-sm sm:text-base",children:[(0,b.jsx)(g,{size:18}),(0,b.jsx)("span",{className:"hidden xs:inline",children:"More Info"}),(0,b.jsx)("span",{className:"xs:hidden",children:"Info"})]})}),(0,b.jsx)("button",{className:"p-2.5 sm:p-3.5 bg-white/5 hover:bg-white/10 border border-white/10 rounded-lg text-text-secondary hover:text-white transition-all",children:(0,b.jsx)(h.Plus,{size:18})})]})]})},o)})})]}):null}var p=a.i(14468);function q(){let[a,c]=(0,l.useState)([]);(0,l.useEffect)(()=>{!async function(){try{let a=await (0,m.getTrendingMovies)("week");a?.results&&a.results.length>0?c(a.results):c(d)}catch(a){console.error("Failed to load trending movies",a),c(d)}}()},[]);let d=[{id:1,title:"Oppenheimer",poster_path:"/8Gxv8gSFCU0XGDykEGv7zR1n2ua.jpg",vote_average:8.1,release_date:"2023-07-19"},{id:2,title:"Barbie",poster_path:"/iuFNMS8U5cb6xfzi51QaJfjBFbj.jpg",vote_average:7.2,release_date:"2023-07-19"},{id:3,title:"Avatar: The Way of Water",poster_path:"/t6HIqrRAclMCA60NsSmeqe9RmNV.jpg",vote_average:7.7,release_date:"2022-12-14"},{id:4,title:"Guardians of the Galaxy Vol. 3",poster_path:"/r2J02Z2OpNTctfOSN1Ydgii51I3.jpg",vote_average:8,release_date:"2023-05-03"},{id:5,title:"Spider-Man: Across the Spider-Verse",poster_path:"/8Vt6mWEReuy4Of61Lnj5Xj704m8.jpg",vote_average:8.4,release_date:"2023-05-31"}];return(0,b.jsx)("section",{className:"relative py-20",children:(0,b.jsxs)("div",{className:"container px-6 lg:px-20 mx-auto",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-10",children:[(0,b.jsx)("h2",{className:"font-display text-3xl font-bold text-white",children:"Trending Now"}),(0,b.jsxs)("button",{className:"flex items-center gap-1 text-sm font-medium text-neutral-400 hover:text-white transition-colors",children:["View All ",(0,b.jsx)(j.ChevronRight,{className:"h-4 w-4"})]})]}),(0,b.jsx)("div",{className:"relative -mx-6 px-6 lg:-mx-20 lg:px-20 overflow-x-auto hide-scrollbar",children:(0,b.jsx)("div",{className:"flex gap-6 pb-4 w-max",children:a.map((a,c)=>(0,b.jsxs)("div",{className:"relative w-[180px] md:w-[220px]",children:[(0,b.jsx)("span",{className:"absolute -left-4 -top-12 text-[8rem] font-bold text-white/5 font-display select-none z-0",children:c+1}),(0,b.jsx)("div",{className:"relative z-10",children:(0,b.jsx)(p.MovieCard,{movie:a})})]},a.id))})})]})})}function r({title:a,movies:c}){let d=(0,l.useRef)(null),e=a=>{if(d.current){let{current:b}=d,c="left"===a?-b.offsetWidth:b.offsetWidth;b.scrollBy({left:c,behavior:"smooth"})}};return c&&0!==c.length?(0,b.jsxs)("div",{className:"py-6 sm:py-8 space-y-3 sm:space-y-4",children:[(0,b.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-20 flex items-center justify-between",children:[(0,b.jsx)("h2",{className:"text-lg sm:text-xl md:text-2xl font-display font-semibold text-white",children:a}),(0,b.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,b.jsx)("button",{onClick:()=>e("left"),className:"p-1.5 sm:p-2 rounded-full bg-white/5 hover:bg-white/20 transition-colors",children:(0,b.jsx)(i.ChevronLeft,{size:18,className:"sm:w-5 sm:h-5"})}),(0,b.jsx)("button",{onClick:()=>e("right"),className:"p-1.5 sm:p-2 rounded-full bg-white/5 hover:bg-white/20 transition-colors",children:(0,b.jsx)(j.ChevronRight,{size:18,className:"sm:w-5 sm:h-5"})})]})]}),(0,b.jsx)("div",{ref:d,className:"flex gap-3 sm:gap-4 overflow-x-auto hide-scrollbar px-4 sm:px-6 lg:px-20",children:c.map(a=>(0,b.jsx)("div",{className:"min-w-[160px] sm:min-w-[180px] md:min-w-[200px] lg:min-w-[240px]",children:(0,b.jsx)(p.MovieCard,{movie:a})},a.id))})]}):null}var s=a.i(71388);let t=(0,f.default)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);var u=a.i(33508);function v(){let{recentlyViewed:a,clearRecentlyViewed:c,removeFromRecentlyViewed:d}=(0,l.useContext)(s.RecentlyViewedContext);return a&&0!==a.length?(0,b.jsx)("section",{className:"relative py-12",children:(0,b.jsxs)("div",{className:"container px-6 lg:px-20 mx-auto",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,b.jsxs)("h2",{className:"font-display text-3xl font-bold text-white flex items-center gap-3",children:[(0,b.jsx)(t,{size:28,className:"text-accent-primary"}),"Recently Viewed"]}),(0,b.jsx)("button",{onClick:c,className:"text-sm text-text-muted hover:text-white transition-colors",children:"Clear History"})]}),(0,b.jsx)("div",{className:"relative -mx-6 px-6 lg:-mx-20 lg:px-20 overflow-x-auto hide-scrollbar",children:(0,b.jsx)("div",{className:"flex gap-6 pb-4 w-max",children:a.slice(0,10).map(a=>(0,b.jsxs)("div",{className:"relative w-[180px] md:w-[220px] group",children:[(0,b.jsx)("button",{onClick:b=>{b.preventDefault(),d(a.id,a.type)},className:"absolute -top-2 -right-2 z-20 bg-black/80 hover:bg-red-500 text-white rounded-full p-1.5 opacity-0 group-hover:opacity-100 transition-all",title:"Remove from history",children:(0,b.jsx)(u.X,{size:14})}),(0,b.jsx)(p.MovieCard,{movie:a})]},`${a.id}-${a.type}`))})})]})}):null}var w=a.i(30026);function x(){let[a,c]=(0,l.useState)([]),[d,e]=(0,l.useState)(!1),{recentlyViewed:f}=(0,l.useContext)(s.RecentlyViewedContext),{items:g}=(0,l.useContext)(w.WatchlistContext);return((0,l.useEffect)(()=>{let a=!0;return async function(){let b=[...new Set([...f?.filter(a=>"movie"===a.type).slice(0,5).map(a=>a.id)||[],...g?.filter(a=>"movie"===a.type).slice(0,5).map(a=>a.id)||[]])];if(0!==b.length)try{e(!0);let d=await fetch(`/api/ai-recommend?movieIds=${b.join(",")}`),f=(await d.json()).recommendations||[];if(0===f.length)return void e(!1);let g=f.slice(0,15).map(a=>(0,m.getMovieDetails)(a).catch(()=>null)),h=await Promise.all(g);a&&c(h.filter(a=>a&&a.id))}catch(a){console.error("Personalization failed",a)}finally{a&&e(!1)}}(),()=>{a=!1}},[f,g]),0===a.length)?null:(0,b.jsx)(r,{title:"Recommended For You",movies:a})}function y(){let[a,c]=(0,l.useState)([]),[d,e]=(0,l.useState)([]),[f,g]=(0,l.useState)([]),[h,i]=(0,l.useState)([]);return(0,l.useEffect)(()=>{!async function(){let[a,b,d,f]=await Promise.all([(0,m.getPopularMovies)(),(0,m.getTopRatedMovies)(),(0,m.getUpcomingMovies)(),(0,m.getNowPlayingMovies)()]);a?.results&&c(a.results),b?.results&&e(b.results),d?.results&&g(d.results),f?.results&&i(f.results)}()},[]),(0,b.jsxs)("main",{className:"min-h-screen bg-bg-main text-white selection:bg-accent-primary selection:text-white pb-12 sm:pb-20 overflow-x-hidden relative z-10",children:[(0,b.jsx)(o,{}),(0,b.jsxs)("div",{className:"relative z-10 -mt-16 sm:-mt-20 space-y-8 sm:space-y-10",children:[(0,b.jsx)(q,{}),(0,b.jsx)(x,{}),(0,b.jsx)(v,{}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(r,{title:"Now Playing",movies:h}),(0,b.jsx)(r,{title:"Popular Movies",movies:a}),(0,b.jsx)(r,{title:"Top Rated",movies:d}),(0,b.jsx)(r,{title:"Upcoming",movies:f})]})]})]})}a.s(["default",()=>y],40777)}];

//# sourceMappingURL=src_app_page_tsx_a7111f3e._.js.map