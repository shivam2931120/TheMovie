module.exports=[96221,a=>{"use strict";let b=(0,a.i(70106).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},61832,a=>{"use strict";var b,c,d=a.i(72131),e=Object.defineProperty,f=new Map,g=new WeakMap,h=0;function i({threshold:a,delay:c,trackVisibility:e,rootMargin:j,root:k,triggerOnce:l,skip:m,initialInView:n,fallbackInView:o,onChange:p}={}){var q;let[r,s]=d.useState(null),t=d.useRef(p),u=d.useRef(n),[v,w]=d.useState({inView:!!n,entry:void 0});t.current=p,d.useEffect(()=>{let d;if(void 0===u.current&&(u.current=n),!m&&r)return d=function(a,c,d={},e=b){if(void 0===window.IntersectionObserver&&void 0!==e){let b=a.getBoundingClientRect();return c(e,{isIntersecting:e,target:a,intersectionRatio:"number"==typeof d.threshold?d.threshold:0,time:0,boundingClientRect:b,intersectionRect:b,rootBounds:b}),()=>{}}let{id:i,observer:j,elements:k}=function(a){let b=Object.keys(a).sort().filter(b=>void 0!==a[b]).map(b=>{var c;return`${b}_${"root"===b?!(c=a.root)?"0":(g.has(c)||(h+=1,g.set(c,h.toString())),g.get(c)):a[b]}`}).toString(),c=f.get(b);if(!c){let d,e=new Map,g=new IntersectionObserver(b=>{b.forEach(b=>{var c;let f=b.isIntersecting&&d.some(a=>b.intersectionRatio>=a);a.trackVisibility&&void 0===b.isVisible&&(b.isVisible=f),null==(c=e.get(b.target))||c.forEach(a=>{a(f,b)})})},a);d=g.thresholds||(Array.isArray(a.threshold)?a.threshold:[a.threshold||0]),c={id:b,observer:g,elements:e},f.set(b,c)}return c}(d),l=k.get(a)||[];return k.has(a)||k.set(a,l),l.push(c),j.observe(a),function(){l.splice(l.indexOf(c),1),0===l.length&&(k.delete(a),j.unobserve(a)),0===k.size&&(j.disconnect(),f.delete(i))}}(r,(a,b)=>{let c=u.current;u.current=a,(void 0!==c||a)&&(w({inView:a,entry:b}),t.current&&t.current(a,b),b.isIntersecting&&l&&d&&(d(),d=void 0))},{root:k,rootMargin:j,threshold:a,trackVisibility:e,delay:c},o),()=>{d&&d()}},[Array.isArray(a)?a.toString():a,r,k,j,l,m,e,o,c]);let x=null==(q=v.entry)?void 0:q.target,y=d.useRef(void 0);r||!x||l||m||y.current===x||(y.current=x,w({inView:!!n,entry:void 0}),u.current=n);let z=[s,v.inView,v.entry];return z.ref=z[0],z.inView=z[1],z.entry=z[2],z}d.Component,null!=(null!=(c="useInsertionEffect"in d?d.useInsertionEffect:void 0)?c:d.useLayoutEffect)||d.useEffect,a.s(["useInView",()=>i])},97069,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(79118),f=a.i(14468),g=a.i(51523),h=a.i(59754),i=a.i(13749),j=a.i(50522),k=a.i(96221),l=a.i(61832),m=a.i(46271);function n(){let[a,n]=(0,c.useState)([]),[o,p]=(0,c.useState)(!0),[q,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)(1),[u,v]=(0,c.useState)(1),[w,x]=(0,c.useState)(!0),y=(0,d.useSearchParams)(),z=(0,d.useRouter)(),{ref:A,inView:B}=(0,l.useInView)({threshold:.5});(0,c.useEffect)(()=>{!async function(){p(!0),n([]),t(1);let a=y.get("with_genres"),b=y.get("sort_by")||"popularity.desc",c=y.get("year_min"),d=y.get("year_max"),f=y.get("runtime"),g=y.get("language"),h={sort_by:b,page:1};if(a&&(h.with_genres=a),c&&(h["first_air_date.gte"]=`${c}-01-01`),d&&(h["first_air_date.lte"]=`${d}-12-31`),f){let[a,b]=f.split("-").map(Number);h["with_runtime.gte"]=a,h["with_runtime.lte"]=b}g&&(h.with_original_language=g);let i=await (0,e.getDiscoverTV)(h);i?.results&&(n(i.results),v(Math.min(i.total_pages||1,500))),p(!1)}()},[y]),(0,c.useEffect)(()=>{B&&!q&&w&&!(s>=u)&&a();async function a(){r(!0);let a=y.get("with_genres"),b=y.get("sort_by")||"popularity.desc",c=y.get("year_min"),d=y.get("year_max"),f=y.get("runtime"),g=y.get("language"),h=s+1,i={sort_by:b,page:h};if(a&&(i.with_genres=a),c&&(i["first_air_date.gte"]=`${c}-01-01`),d&&(i["first_air_date.lte"]=`${d}-12-31`),f){let[a,b]=f.split("-").map(Number);i["with_runtime.gte"]=a,i["with_runtime.lte"]=b}g&&(i.with_original_language=g);let j=await (0,e.getDiscoverTV)(i);j?.results&&(n(a=>[...a,...j.results]),t(h)),r(!1)}},[B,s,u,y,q,w]);let C=a=>{if(a<1||a>u||o)return;p(!0);let b=new URLSearchParams(y.toString());b.set("page",a.toString()),z.push(`/tv?${b.toString()}`),window.scrollTo({top:0})};return(0,b.jsxs)("main",{className:"min-h-screen pt-32 sm:pt-36 pb-20 bg-bg-main",children:[(0,b.jsx)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-20 mb-6 sm:mb-8",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-display font-bold text-white mb-2",children:"TV Shows"}),(0,b.jsx)("p",{className:"text-text-secondary text-sm sm:text-base",children:"Explore the latest trending TV series."})]}),(0,b.jsx)(h.AdvancedFilters,{})]})}),(0,b.jsx)(g.Filters,{}),(0,b.jsx)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-20 mt-8 sm:mt-10",children:o?(0,b.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 sm:gap-6",children:[...Array(10)].map((a,c)=>(0,b.jsx)("div",{className:"aspect-[2/3] bg-white/5 rounded-xl animate-pulse"},c))}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-y-10 sm:gap-y-12 gap-x-3 sm:gap-x-6",children:a.map((a,c)=>(0,b.jsx)(m.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:c%20*.03},children:(0,b.jsx)(f.MovieCard,{movie:a})},`${a.id}-${c}`))}),w&&s<u&&(0,b.jsx)("div",{ref:A,className:"flex justify-center items-center py-12",children:q&&(0,b.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,b.jsx)(k.Loader2,{className:"animate-spin text-accent-primary",size:32}),(0,b.jsx)("p",{className:"text-text-muted text-sm",children:"Loading more shows..."})]})}),(0,b.jsx)("div",{className:"flex justify-center mt-8",children:(0,b.jsxs)("button",{onClick:()=>x(!w),className:"px-4 py-2 text-sm text-text-muted hover:text-white border border-white/10 rounded-lg hover:bg-white/5 transition-all",children:[w?"Disable":"Enable"," Infinite Scroll"]})}),!w&&u>1&&(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2 mt-16 mb-8",children:[(0,b.jsx)("button",{onClick:()=>C(s-1),disabled:1===s,className:"p-2 rounded-lg bg-white/5 border border-white/10 text-white hover:bg-white/10 disabled:opacity-30 disabled:cursor-not-allowed transition-all",children:(0,b.jsx)(i.ChevronLeft,{size:20})}),(0,b.jsxs)("span",{className:"text-white px-4 py-2",children:["Page ",s," of ",u]}),(0,b.jsx)("button",{onClick:()=>C(s+1),disabled:s===u,className:"p-2 rounded-lg bg-white/5 border border-white/10 text-white hover:bg-white/10 disabled:opacity-30 disabled:cursor-not-allowed transition-all",children:(0,b.jsx)(j.ChevronRight,{size:20})})]})]})})]})}function o(){return(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)("div",{className:"min-h-screen pt-32 pb-20 bg-bg-main flex items-center justify-center",children:(0,b.jsx)(k.Loader2,{className:"w-12 h-12 text-accent-primary animate-spin"})}),children:(0,b.jsx)(n,{})})}a.s(["default",()=>o])}];

//# sourceMappingURL=_ed33d579._.js.map